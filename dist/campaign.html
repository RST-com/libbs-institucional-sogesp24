<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Campanha</title>
    <link rel="stylesheet" href="../styles/styles.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.6/lottie.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var animation = lottie.loadAnimation({
          container: document.getElementById("lottie-icon"), // ID do contêiner onde o ícone será renderizado
          renderer: "svg",
          loop: true,
          autoplay: true,
          path: "../assets/back.json", // Caminho para o arquivo JSON do ícone Lottie
        })
      })
    </script>
  </head>
  <body>
    <div class="container-tela3">
      <img src="../assets/tela3/1-tela-3-sogesp.png" alt="Image 1" />
      <img
        class="film-image"
        src="../assets/tela3/2-tela-3-sogesp.png"
        alt="Film Image"
      />
      <div class="carousel-wrapper">
        <div class="carousel-button" onclick="scrollCarousel(-1)">
          <img
            id="carousel-left-button"
            src="../assets/button04.png"
            style="width: 4rem; height: 4rem"
          />
        </div>
        <div class="carousel">
          <div class="carousel-item">
            <img
              class="div-image"
              src="../assets/tela3/6-tela-3.1-sogesp.png"
              alt="Film Image 1"
            />
            <img
              class="player-label"
              src="../assets/tela3/player-label.png"
              alt=""
            />
            <p class="video-text">Assistir vídeo da Juliette</p>
          </div>
          <div class="carousel-item">
            <img
              class="div-image"
              src="../assets/tela3/8-tela-3.1-sogesp.png"
              alt="Film Image 2"
            />
            <img
              class="player-label"
              src="../assets/tela3/player-label.png"
              alt=""
            />
            <p class="video-text">Assistir vídeo da Maria Ângela</p>
          </div>
          <div class="carousel-item">
            <img
              class="div-image"
              src="../assets/tela3/9-tela-3.1-sogesp.png"
              alt="Film Image 3"
            />
            <img
              class="player-label"
              src="../assets/tela3/player-label.png"
              alt=""
            />
            <p class="video-text">Assistir vídeo da Dalva</p>
          </div>
          <div class="carousel-item">
            <img
              class="div-image"
              src="../assets/tela3/10-tela-3.1-sogesp.png"
              alt="Film Image 3"
            />
            <img
              class="player-label"
              src="../assets/tela3/player-label.png"
              alt=""
            />
            <p class="video-text">Assistir vídeo da Luana</p>
          </div>
        </div>
        <img
          id="carousel-right-button"
          class="carousel-button2 right"
          src="../assets/button07.png"
          alt="forward arrow"
          onclick="scrollCarousel(1)"
        />
      </div>

      <div
        id="lottie-icon"
        style="
          width: 100px;
          height: 250px;
          position: absolute;
          bottom: -42px;
          right: 110px;
        "
      ></div>

      <img
        class="campaign-text"
        src="../assets/tela3/3-tela-3-sogesp.png"
        alt="Campaign Text"
      />

      <a href="../index.html">
        <img
          class="menu-acting"
          src="../assets/tela2/3-tela-2.1-sogesp.png"
          alt="Menu"
        />
      </a>
      <div id="modal" class="modal">
        <div class="modal-content">
          <span class="close"
            ><span>Fechar</span>
            <svg
              stroke="currentColor"
              fill="currentColor"
              stroke-width="0"
              viewBox="0 0 512 512"
              height="1em"
              width="1em"
              xmlns="http://www.w3.org/2000/svg"
              font-size="54px"
            >
              <path
                fill="none"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="32"
                d="M368 368 144 144m224 0L144 368"
              ></path>
            </svg>
          </span>
          <!-- <img id="modal-image" src="" alt="Modal Image" /> -->
          <div class="video-campaign-wrapper">
            <video class="react-player" controls autoplay>
              <source class="source-player" src="" type="video/mp4" />
              Your browser does not support the video tag.
            </video>
          </div>
        </div>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.6/lottie.min.js"></script>
    <script>
      document
        .getElementById("lottie-icon")
        .addEventListener("click", function () {
          window.location.href = "../index.html"
        })
      const modal = document.getElementById("modal")
      const modalImage = document.getElementById("modal-image")
      const closeModal = document.querySelector(".modal .close")
      const player = document.querySelector(".react-player")
      const source = document.querySelector(".source-player")

      document.querySelectorAll(".carousel-item").forEach((item, index) => {
        item.addEventListener("click", function () {
          switch (index) {
            case 0:
              source.src = "../assets/tela3/video1-juliette-cocolichio.mp4"
              break
            case 1:
              source.src = "../assets/tela3/video2-maria-angela.mp4"
              break
            case 2:
              source.src = "../assets/tela3/video3-aparecida-dalta-cassim.mp4"
              break
            case 3:
              source.src = "../assets/tela3/video4-luana-reche.mp4"
              break
            default:
              break
          }
          // const imageSrc = this.querySelector(".div-image").src
          // modalImage.src = imageSrc
          // player.poster = imageSrc
          player.load()
          modal.style.display = "block"
        })
      })

      // Close modal
      closeModal.addEventListener("click", function () {
        modal.style.display = "none"
        player.pause()
      })

      // Close modal when clicking outside of modal content
      window.addEventListener("click", function (e) {
        if (e.target == modal) {
          modal.style.display = "none"
          player.pause()
        }
      })
    </script>
    <script>
      function scrollCarousel(direction) {
        const carousel = document.querySelector(".carousel")
        const scrollAmount = 300 // Adjust based on your design

        // Scroll the carousel
        carousel.scrollBy({
          left: direction * scrollAmount,
          behavior: "smooth",
        })

        // Add a small timeout to ensure scrollLeft is updated
        setTimeout(() => {
          checkScrollPosition()
        }, 200) // Adjust the timeout duration if necessary
      }
      function checkScrollPosition() {
        const carousel = document.querySelector(".carousel")
        const carouselLeftButton = document.getElementById(
          "carousel-left-button"
        )
        const carouselRightButton = document.getElementById(
          "carousel-right-button"
        )

        // Check if carousel is at the beginning
        if (carousel.scrollLeft <= 0) {
          carouselLeftButton.src = "../assets/button04.png" // Restore the original image
          carouselRightButton.src = "../assets/button07.png" // Restore the original image
        } else {
          carouselLeftButton.src = "../assets/button06.png" // Replace with your new image source
          carouselLeftButton.style.width = "6rem"
        }

        // Check if carousel is at the end
        if (carousel.scrollLeft >= 972) {
          carouselRightButton.src = "../assets/button08.png" // Restore the original image
        } else {
          carouselRightButton.src = "../assets/button07.png" // Replace with your new image source
        }
      }

      // Add an event listener to check the position during manual scroll as well
      document
        .querySelector(".carousel")
        .addEventListener("scroll", checkScrollPosition)
    </script>
  </body>
</html>
